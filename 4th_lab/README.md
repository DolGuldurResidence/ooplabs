## –ù–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã: 
1. –ü–æ—á–µ–º—É class INotifyDataChanged, class INotifyDataChanging; –∏–Ω–∏—Ü–∏–∞–ª–∏—Ä–æ–≤–∞–Ω –¥–≤–∞–∂–¥—ã?

–û—Ç–≤–µ—Ç: forward decloration, —á—Ç–æ –±—ã –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –∑–Ω–∞–ª –æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ —ç—Ç–∏—Ö –∫–ª–∞—Å—Å–æ–≤. 

2. ~User() noexcept = default; —á—Ç–æ  —ç—Ç–æ —Ç–∞–∫–æ–µ –∏ —á—Ç–æ —Ç–∞–∫–æ–µ noexcept –≤ –¥–∞–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ?

–û—Ç–≤–µ—Ç: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ—Ç–æ—Ä—ã–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –Ω–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π.

## –î–∏–∞–≥—Ä–∞–º–º–∞ –∫–ª–∞—Å—Å–æ–≤

![–°–∏—Å—Ç–µ–º–∞ ‚Ññ1: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è Property Changed](diograms\Diogramm.png)



**–ü–∞—Ç—Ç–µ—Ä–Ω –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å (Observer) - –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞—Ö –≤–µ—â–∞—Ç–µ–ª—å/—Å–ª—É—à–∞—Ç–µ–ª—å**

## üì° **–í–ï–©–ê–¢–ï–õ–ò (Observable)**
```cpp
class User: public INotifyDataChanged {
class SecureUser: public INotifyDataChanging {
```

**–ß—Ç–æ –¥–µ–ª–∞—é—Ç:**
- –í–µ—â–∞—é—Ç –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —Å–≤–æ–∏—Ö —Å–≤–æ–π—Å—Ç–≤
- –ò–º–µ—é—Ç —Å–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ (—Å–ª—É—à–∞—Ç–µ–ª–µ–π)
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞—Å—Å—ã–ª–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## üëÇ **–°–õ–£–®–ê–¢–ï–õ–ò (Listeners)**
```cpp
class UsernameChangedListener: public IPropertyChangedListener {
class PasswordChangingListener: public IPropertyChangingListener {
```

**–ß—Ç–æ –¥–µ–ª–∞—é—Ç:**
- –ü–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –Ω–∞ –≤–µ—â–∞—Ç–µ–ª–µ–π
- –ü–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –†–µ–∞–≥–∏—Ä—É—é—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å, –≤–∞–ª–∏–¥–∞—Ü–∏—è)

---

## üîÑ **–î–í–ê –¢–ò–ü–ê –í–ï–©–ê–ù–ò–Ø:**

### 1. **–í–µ—â–∞–Ω–∏–µ –ü–û–°–õ–ï –∏–∑–º–µ–Ω–µ–Ω–∏—è (User)**
```cpp
void set_username(const std::string& new_name) {
    username = new_name;  // –°–Ω–∞—á–∞–ª–∞ –º–µ–Ω—è–µ–º
    // –ü–æ—Ç–æ–º —É–≤–µ–¥–æ–º–ª—è–µ–º —Å–ª—É—à–∞—Ç–µ–ª–µ–π
    for (auto listener: listeners) {
        listener->on_property_changed(this, "username");
    }
}
```
**–°—Ö–µ–º–∞:** –ò–∑–º–µ–Ω–∏–ª–∏ ‚Üí –°–æ–æ–±—â–∏–ª–∏

### 2. **–í–µ—â–∞–Ω–∏–µ –î–û –∏–∑–º–µ–Ω–µ–Ω–∏—è (SecureUser)**
```cpp
void set_username(const std::string& new_name) {
    // –°–Ω–∞—á–∞–ª–∞ —Å–ø—Ä–∞—à–∏–≤–∞–µ–º —Å–ª—É—à–∞—Ç–µ–ª–µ–π "–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å?"
    for (auto listener : listeners) {
        if (!listener->on_property_changing(this, "username", username, new_name)) {
            return;  // –ï—Å–ª–∏ –∫—Ç–æ-—Ç–æ –ø—Ä–æ—Ç–∏–≤ - –æ—Ç–º–µ–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ
        }
    }
    // –ï—Å–ª–∏ –≤—Å–µ —Ä–∞–∑—Ä–µ—à–∏–ª–∏ - —Ç–æ–≥–¥–∞ –º–µ–Ω—è–µ–º
    username = new_name;
}
```
**–°—Ö–µ–º–∞:** –°–ø—Ä–æ—Å–∏–ª–∏ ‚Üí –ï—Å–ª–∏ —Ä–∞–∑—Ä–µ—à–∏–ª–∏ ‚Üí –ò–∑–º–µ–Ω–∏–ª–∏

---

## üéØ **–†–ï–ê–õ–¨–ù–ê–Ø –ê–ù–ê–õ–û–ì–ò–Ø:**

**–í–µ—â–∞—Ç–µ–ª—å = –†–∞–¥–∏–æ—Å—Ç–∞–Ω—Ü–∏—è**
**–°–ª—É—à–∞—Ç–µ–ª—å = –†–∞–¥–∏–æ–ø—Ä–∏–µ–º–Ω–∏–∫**

- –†–∞–¥–∏–æ—Å—Ç–∞–Ω—Ü–∏—è (User) –≤–µ—â–∞–µ—Ç –º—É–∑—ã–∫—É (–∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤)
- –ü—Ä–∏–µ–º–Ω–∏–∫–∏ (Listeners) –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –Ω–∞ —á–∞—Å—Ç–æ—Ç—É —Å—Ç–∞–Ω—Ü–∏–∏
- –ö–æ–≥–¥–∞ –Ω–∞ —Å—Ç–∞–Ω—Ü–∏–∏ –Ω–æ–≤–∞—è –ø–µ—Å–Ω—è (–∏–∑–º–µ–Ω–µ–Ω–∏–µ) - –≤—Å–µ –ø—Ä–∏–µ–º–Ω–∏–∫–∏ –µ–µ –∏–≥—Ä–∞—é—Ç

---

## üí° **–î–õ–Ø –õ–ê–ë–û–†–ê–¢–û–†–ù–û–ô:**

**–¢–≤–æ—è –∑–∞–¥–∞—á–∞:**
1. –°–æ–∑–¥–∞—Ç—å –≤–µ—â–∞—Ç–µ–ª–µ–π (User, SecureUser)
2. –°–æ–∑–¥–∞—Ç—å —Å–ª—É—à–∞—Ç–µ–ª–µ–π (UsernameChangedListener –∏ —Ç.–¥.)
3. –ü–æ–¥–ø–∏—Å–∞—Ç—å —Å–ª—É—à–∞—Ç–µ–ª–µ–π –Ω–∞ –≤–µ—â–∞—Ç–µ–ª–µ–π
4. –í—ã–∑–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤ –∏ —É–≤–∏–¥–µ—Ç—å —Ä–∞–±–æ—Ç—É –ø–∞—Ç—Ç–µ—Ä–Ω–∞

**–°—É—Ç—å:** –í–µ—â–∞—Ç–µ–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞—é—Ç –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–ª—É—à–∞—Ç–µ–ª—è—Ö, —Ç–æ–ª—å–∫–æ –æ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ. –≠—Ç–æ –∏ –µ—Å—Ç—å —Å–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å!