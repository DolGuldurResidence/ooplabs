# ะะธัััะฐะปัะฝะฐั ะบะปะฐะฒะธะฐัััะฐ (ะะฐะฑะพัะฐัะพัะฝะฐั ัะฐะฑะพัะฐ 6)

## ะะฟะธัะฐะฝะธะต

ะะตะฐะปะธะทะฐัะธั ะฒะธัััะฐะปัะฝะพะน ะบะปะฐะฒะธะฐัััั ั ะฟะพะดะดะตัะถะบะพะน ะฟะฐััะตัะฝะพะฒ Command ะธ Memento ะฝะฐ ัะทัะบะต C++.

## ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั

- โ ะะพะฑะฐะฒะปะตะฝะธะต/ะธะทะผะตะฝะตะฝะธะต ะฐััะพัะธะฐัะธะธ ะบะปะฐะฒะธัะธ ั ะบะพะผะฐะฝะดะพะน
- โ ะัะบะฐั ะฟะพัะปะตะดะฝะตะน ะฒัะฟะพะปะฝะตะฝะฝะพะน ะบะพะผะฐะฝะดั (undo)
- โ ะะพะทะฒัะฐั ะฟะพัะปะตะดะฝะตะน ะฒัะฟะพะปะฝะตะฝะฝะพะน ะบะพะผะฐะฝะดั ะฟะพัะปะต ะพัะบะฐัะฐ (redo)
- โ ะกะพััะฐะฝะตะฝะธะต ะฟัะธะฒัะทะพะบ ะบะปะฐะฒะธั ะฒ JSON ัะฐะนะป
- โ ะะพัััะฐะฝะพะฒะปะตะฝะธะต ะฟัะธะฒัะทะพะบ ะฟัะธ ะฟะตัะตะทะฐะฟััะบะต ะฟัะพะณัะฐะผะผั

## ะะตะฐะปะธะทะพะฒะฐะฝะฝัะต ะบะพะผะฐะฝะดั

1. **PrintCommand** - ะฟะตัะฐัั ัะธะผะฒะพะปะฐ
2. **VolumeUpCommand** - ัะฒะตะปะธัะตะฝะธะต ะณัะพะผะบะพััะธ
3. **VolumeDownCommand** - ัะผะตะฝััะตะฝะธะต ะณัะพะผะบะพััะธ
4. **MediaPlayerCommand** - ะทะฐะฟััะบ ะผะตะดะธะฐ-ะฟะปะตะตัะฐ

## ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
โโโ Command.h              # ะะฐะทะพะฒัะน ะฐะฑัััะฐะบัะฝัะน ะบะปะฐัั Command
โโโ Keyboard.h/.cpp        # ะะปะฐัั ะฒะธัััะฐะปัะฝะพะน ะบะปะฐะฒะธะฐัััั
โโโ Commands.h/.cpp        # ะะพะฝะบัะตัะฝัะต ัะตะฐะปะธะทะฐัะธะธ ะบะพะผะฐะฝะด
โโโ CommandFactory.h/.cpp  # ะคะฐะฑัะธะบะฐ ะดะปั ัะพะทะดะฐะฝะธั ะบะพะผะฐะฝะด
โโโ KeyboardStateSaver.h/.cpp # ะกะพััะฐะฝะตะฝะธะต/ะทะฐะณััะทะบะฐ ัะพััะพัะฝะธั (Memento)
โโโ main.cpp               # ะัะฝะพะฒะฝะฐั ััะฝะบัะธั ั ะดะตะผะพะฝัััะฐัะธะตะน
โโโ CMakeLists.txt         # ะคะฐะนะป ะบะพะฝัะธะณััะฐัะธะธ CMake
โโโ Makefile               # ะคะฐะนะป ะดะปั ะบะพะผะฟะธะปััะธะธ (ะฐะปััะตัะฝะฐัะธะฒะฝัะน)
โโโ .gitignore             # ะะณะฝะพัะธััะตะผัะต ัะฐะนะปั ะดะปั Git
โโโ README.md              # ะญัะพั ัะฐะนะป
```

## ะะพะผะฟะธะปััะธั ะธ ะทะฐะฟััะบ

### ะขัะตะฑะพะฒะฐะฝะธั
- ะะพะผะฟะธะปััะพั C++ ั ะฟะพะดะดะตัะถะบะพะน C++17 (g++, clang++, MSVC)
- CMake 3.10 ะธะปะธ ะฒััะต
- Make (ะพะฟัะธะพะฝะฐะปัะฝะพ, ะดะปั Makefile)

### ะกะฑะพัะบะฐ ั ะฟะพะผะพััั CMake (ัะตะบะพะผะตะฝะดัะตััั)

```bash
# ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั
git clone <repository-url>
cd sixthLab

# ะกะพะทะดะฐะฝะธะต ะดะธัะตะบัะพัะธะธ ะดะปั ัะฑะพัะบะธ
mkdir build
cd build

# ะะพะฝัะธะณััะฐัะธั ะฟัะพะตะบัะฐ
cmake ..

# ะกะฑะพัะบะฐ ะฟัะพะตะบัะฐ
cmake --build .

# ะะฐะฟััะบ ะฟัะพะณัะฐะผะผั
./bin/virtual_keyboard
# ะธะปะธ ะฝะฐ Windows:
# bin\virtual_keyboard.exe
```

### ะะปััะตัะฝะฐัะธะฒะฝัะต ัะฟะพัะพะฑั ัะฑะพัะบะธ

#### ะก ะฟะพะผะพััั Makefile
```bash
# ะกะฑะพัะบะฐ
make

# ะะฐะฟััะบ
make run

# ะัะธััะบะฐ
make clean
```

#### ะััะฝะฐั ะบะพะผะฟะธะปััะธั
```bash
g++ -std=c++17 -Wall -Wextra -O2 *.cpp -o virtual_keyboard
./virtual_keyboard
```

### ะะพะฟะพะปะฝะธัะตะปัะฝัะต ะบะพะผะฐะฝะดั CMake

```bash
# ะัะปะฐะดะพัะฝะฐั ัะฑะพัะบะฐ
cmake -DCMAKE_BUILD_TYPE=Debug ..
cmake --build .

# ะะตะปะธะทะฝะฐั ัะฑะพัะบะฐ
cmake -DCMAKE_BUILD_TYPE=Release ..
cmake --build .

# ะะฐะฟััะบ ัะตัะตะท CMake
cmake --build . --target run

# ะัะธััะบะฐ ะฒััะพะดะฝัั ัะฐะนะปะพะฒ
cmake --build . --target clean-output

# ะฃััะฐะฝะพะฒะบะฐ ะฟัะพะณัะฐะผะผั
cmake --build . --target install

# ะกะพะทะดะฐะฝะธะต ะฟะฐะบะตัะฐ ะดะปั ัะฐัะฟัะพัััะฐะฝะตะฝะธั
cmake --build . --target package

# ะะพะบะฐะทะฐัั ัะฟัะฐะฒะบั
cmake --build . --target help
```

## ะัะธะผะตั ัะฐะฑะพัั

ะัะพะณัะฐะผะผะฐ ะฒัะฟะพะปะฝัะตั ัะปะตะดััััั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั ะบะพะผะฐะฝะด:
1. ะะตัะฐัะฐะตั ัะธะผะฒะพะปั 'a', 'b', 'c'
2. ะัะฟะพะปะฝัะตั undo ะดะฒะฐะถะดั (ัะดะฐะปัะตั 'c' ะธ 'b')
3. ะัะฟะพะปะฝัะตั redo (ะฒะพะทะฒัะฐัะฐะตั 'b')
4. ะฃะฒะตะปะธัะธะฒะฐะตั ะณัะพะผะบะพััั ะฝะฐ 20%
5. ะฃะผะตะฝััะฐะตั ะณัะพะผะบะพััั ะฝะฐ 20%
6. ะะฐะฟััะบะฐะตั ะผะตะดะธะฐ-ะฟะปะตะตั
7. ะะตัะฐัะฐะตั ัะธะผะฒะพะป 'd'
8. ะัะฟะพะปะฝัะตั undo ะดะฒะฐะถะดั

ะะตะทัะปััะฐั ะฒัะฒะพะดะธััั ะบะฐะบ ะฒ ะบะพะฝัะพะปั, ัะฐะบ ะธ ะฒ ัะฐะนะป `output.txt`.

## ะัะฟะพะปัะทัะตะผัะต ะฟะฐััะตัะฝั

### Command Pattern
- `Command` - ะฐะฑัััะฐะบัะฝัะน ะฑะฐะทะพะฒัะน ะบะปะฐัั
- `PrintCommand`, `VolumeUpCommand`, `VolumeDownCommand`, `MediaPlayerCommand` - ะบะพะฝะบัะตัะฝัะต ะบะพะผะฐะฝะดั
- `Keyboard` - receiver, ะบะพัะพััะน ะฒัะฟะพะปะฝัะตั ะบะพะผะฐะฝะดั

### Memento Pattern
- `KeyboardStateSaver` - caretaker, ะพัะฒะตัะฐะตั ะทะฐ ัะพััะฐะฝะตะฝะธะต/ะฒะพัััะฐะฝะพะฒะปะตะฝะธะต ัะพััะพัะฝะธั
- JSON ัะฐะนะป - memento, ััะฐะฝะธั ัะพััะพัะฝะธะต ะฟัะธะฒัะทะพะบ ะบะปะฐะฒะธั

### Factory Pattern
- `CommandFactory` - ัะพะทะดะฐะตั ะบะพะผะฐะฝะดั ะฟะพ ัะธะฟั ะธ ะฟะฐัะฐะผะตััะฐะผ

## ะคะฐะนะปั ัะตะทัะปััะฐัะพะฒ

ะะพัะปะต ะทะฐะฟััะบะฐ ะฟัะพะณัะฐะผะผั ัะพะทะดะฐัััั:
- `keyboard_state.json` - ัะฐะนะป ั ัะพััะฐะฝะตะฝะฝัะผะธ ะฟัะธะฒัะทะบะฐะผะธ ะบะปะฐะฒะธั
- `output.txt` - ัะฐะนะป ั ัะตะทัะปััะฐัะฐะผะธ ะฒัะฟะพะปะฝะตะฝะธั ะบะพะผะฐะฝะด

## ะัะพะฑะตะฝะฝะพััะธ ัะตะฐะปะธะทะฐัะธะธ

1. **ะัะพััะพะน JSON ะฟะฐััะตั** - ะดะปั ััะตะฑะฝัั ัะตะปะตะน ัะตะฐะปะธะทะพะฒะฐะฝ ะฟัะพััะพะน ะฟะฐััะตั JSON ะฑะตะท ะฒะฝะตัะฝะธั ะฑะธะฑะปะธะพัะตะบ
2. **ะฃะผะฝัะต ัะบะฐะทะฐัะตะปะธ** - ะธัะฟะพะปัะทัะตััั `std::shared_ptr` ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ัะฟัะฐะฒะปะตะฝะธั ะฟะฐะผัััั
3. **STL ะบะพะฝัะตะนะฝะตัั** - `std::map`, `std::vector` ะดะปั ััะฐะฝะตะฝะธั ะดะฐะฝะฝัั
4. **ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ** - ะฟัะพะฒะตัะบะฐ ะพัะบัััะธั ัะฐะนะปะพะฒ ะธ ะฒะฐะปะธะดะฝะพััะธ ะดะฐะฝะฝัั


โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ     main()      โ โโโถโ   Keyboard       โโโโถโ   Commands      โ
โ                 โ    โ   (Receiver)     โ    โ   (Print, Vol)  โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
         โ                       โ                       โ
         โผ                       โผ                       โผ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ CommandFactory  โ    โ KeyboardStateSaverโ    โ   Command      โ
โ   (Factory)     โ    โ   (Memento)      โ    โ  (Interface)    โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ

๐ ะะปััะตะฒัะต ะฒะพะฟัะพัั ะดะปั ะฟะพะฝะธะผะฐะฝะธั
ะัะธ ััะตะฝะธะธ ะบะฐะถะดะพะณะพ ัะฐะนะปะฐ ะทะฐะดะฐะฒะฐะนัะตัั ะฒะพะฟัะพัะฐะผะธ:
Command.h: "ะงัะพ ะดะพะปะถะฝะฐ ัะผะตัั ะดะตะปะฐัั ะปัะฑะฐั ะบะพะผะฐะฝะดะฐ?"
Commands.h: "ะะฐะบะธะต ะบะพะฝะบัะตัะฝัะต ะดะตะนััะฒะธั ะผะพะถะฝะพ ะฒัะฟะพะปะฝะธัั?"
Keyboard.h: "ะะฐะบ ะบะปะฐะฒะธะฐัััะฐ ััะฐะฝะธั ะธ ะฒัะฟะพะปะฝัะตั ะบะพะผะฐะฝะดั?"
CommandFactory: "ะะฐะบ ัะพะทะดะฐะฒะฐัั ะบะพะผะฐะฝะดั ะฟะพ ัะธะฟั?"
KeyboardStateSaver: "ะะฐะบ ัะพััะฐะฝะธัั ะธ ะฒะพัััะฐะฝะพะฒะธัั ัะพััะพัะฝะธะต?"
๐ก ะกะพะฒะตัั ะดะปั ะปัััะตะณะพ ะฟะพะฝะธะผะฐะฝะธั
ะะฐะฟัััะธัะต ะฟัะพะณัะฐะผะผั ะธ ะฟะพัะผะพััะธัะต ะฝะฐ ะฒัะฒะพะด
ะะทะผะตะฝะธัะต ััะพ-ัะพ ะฒ ะบะพะดะต ะธ ะฟะพัะผะพััะธัะต, ััะพ ะธะทะผะตะฝะธััั
ะะพะฑะฐะฒััะต ะฝะพะฒัั ะบะพะผะฐะฝะดั - ััะพ ะฟะพะผะพะถะตั ะฟะพะฝััั ะฟะฐััะตัะฝ
ะัะพัะปะตะดะธัะต ะฒัะฟะพะปะฝะตะฝะธะต ะพะดะฝะพะน ะบะพะผะฐะฝะดั ะพั ะฝะฐัะฐะปะฐ ะดะพ ะบะพะฝัะฐ
๐ ะัะฐะบัะธัะตัะบะพะต ะทะฐะดะฐะฝะธะต
ะะพะฟัะพะฑัะนัะต ะดะพะฑะฐะฒะธัั ะฝะพะฒัั ะบะพะผะฐะฝะดั ClearCommand, ะบะพัะพัะฐั ะพัะธัะฐะตั ะฒะตัั ัะตะบัั. ะญัะพ ะฟะพะผะพะถะตั ะฒะฐะผ ะฟะพะฝััั ะฒะตัั ะฟัะพัะตัั:
ะะพะฑะฐะฒััะต ะบะปะฐัั ะฒ Commands.h
ะะตะฐะปะธะทัะนัะต ะฒ Commands.cpp
ะะฐัะตะณะธัััะธััะนัะต ะฒ main.cpp
ะัะธะฒัะถะธัะต ะบ ะบะปะฐะฒะธัะต
ะฅะพัะธัะต, ััะพะฑั ั ะฟะพะบะฐะทะฐะป, ะบะฐะบ ััะพ ัะดะตะปะฐัั?